<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libnds: Graphics/3D/nehe/lesson08/source/nehe8.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="docs.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Graphics/3D/nehe/lesson08/source/nehe8.cpp</h1><div class="fragment"><pre class="fragment"><span class="comment">/****************************************</span>
<span class="comment"> *      NDS NeHe Lesson 08              *</span>
<span class="comment"> *      Author: Ethos                   *</span>
<span class="comment"> ****************************************/</span>

<span class="comment">// include your ndslib</span>
<span class="preprocessor">#include &lt;<a class="code" href="a00119.html" title="the master include file for nds applications.">nds.h</a>&gt;</span>
<span class="preprocessor">#include &lt;malloc.h&gt;</span>
<span class="comment">//needed to load pcx files</span>
<span class="preprocessor">#include &lt;<a class="code" href="a00107.html" title="An image abstraction for working with image data.">nds/arm9/image.h</a>&gt;</span>


<span class="preprocessor">#include &quot;drunkenlogo_pcx.h&quot;</span>

<span class="keywordtype">int</span> DrawGLScene();


<span class="keywordtype">float</span>   xrot;               <span class="comment">// X Rotation</span>
<span class="keywordtype">float</span>   yrot;               <span class="comment">// Y Rotation</span>
<span class="keywordtype">float</span> xspeed;               <span class="comment">// X Rotation Speed</span>
<span class="keywordtype">float</span> yspeed;               <span class="comment">// Y Rotation Speed</span>
<span class="keywordtype">float</span>   z=-5.0f;            <span class="comment">// Depth Into The Screen</span>

<span class="keywordtype">float</span> LightAmbient[]=       { 0.5f, 0.5f, 0.5f, 1.0f };
<span class="keywordtype">float</span> LightDiffuse[]=       { 1.0f, 1.0f, 1.0f, 1.0f };
<span class="keywordtype">float</span> LightPosition[]=  { 0.0f, 0.0f, 2.0f, 1.0f };

<span class="keywordtype">int</span> texture[3];         <span class="comment">// Storage For 3 Textures (only going to use 1 on the DS for this demo)</span>



<span class="keywordtype">int</span> LoadGLTextures()                                    <span class="comment">// Load PCX files And Convert To Textures</span>
{
    <a name="_a0"></a><a class="code" href="a00080.html" title="A generic image structure.">sImage</a> pcx;

    <span class="comment">//load our texture</span>
    <a name="a1"></a><a class="code" href="a00122.html#a5c59ba324a60280e1e91bdc9a58a5f3d" title="Loads an image structure with data from PCX formatted data.">loadPCX</a>((<a name="a2"></a><a class="code" href="a00121.html#a92c50087ca0e64fa93fc59402c55f8ca" title="8 bit unsigned integer.">u8</a>*)drunkenlogo_pcx, &amp;pcx);
    <a name="a3"></a><a class="code" href="a00107.html#a0db57be415411cc38f75269ebbe6b18c" title="Converts an 8 bit image to 16 bit setting the alpha bit.">image8to16</a>(&amp;pcx);

    <span class="comment">//DS supports no filtering of anykind so no need for more than one texture</span>
    <a name="a4"></a><a class="code" href="a00136.html#aab7f277f7e9dd9683b8671ade84b3eda" title="Creates room for the specified number of textures.">glGenTextures</a>(1, &amp;texture[0]);
    <a name="a5"></a><a class="code" href="a00136.html#a3d8302fb3f30c1029b2e9cdd50f45a0a" title="glBindTexure sets the current named texture to the active texture. Target is ignored...">glBindTexture</a>(0, texture[0]);
    <a name="a6"></a><a class="code" href="a00136.html#a750259e65fe2e78340ded1119694dea7" title="Loads a 2D texture into texture memory and sets the currently bound texture ID to...">glTexImage2D</a>(0, 0, <a name="a7"></a><a class="code" href="a00136.html#a6861121fecdc3ba4592e3125c5ef1755a5429ba2be1e257cba360b31d8c14e3b3">GL_RGB</a>, <a name="a8"></a><a class="code" href="a00136.html#a9f0b28cb8d083a96b0156006ddfda933a6bdbbf9e2e8f8ff1e18e4c1cd0ce4b47">TEXTURE_SIZE_128</a> , <a class="code" href="a00136.html#a9f0b28cb8d083a96b0156006ddfda933a6bdbbf9e2e8f8ff1e18e4c1cd0ce4b47">TEXTURE_SIZE_128</a>, 0, <a name="a9"></a><a class="code" href="a00136.html#abeb94a88337262cc47317d39df438547aadf071cb4dfc859baf293e3f9381e30e">TEXGEN_TEXCOORD</a>, pcx.<a name="a10"></a><a class="code" href="a00080.html#a48ff0e282b646989a49b49a420e5b01b" title="A union of data pointers to the pixel data.">image</a>.<a name="a11"></a><a class="code" href="a00080.html#ad11da8bd06ec40d568f164c1144c48a7" title="pointer to 8 bit data.">data8</a>);

    <a name="a12"></a><a class="code" href="a00107.html#add63b152c65c7e9103320308028c963f" title="frees the image data. Only call if the image data was returned from an image loader...">imageDestroy</a>(&amp;pcx);

    <span class="keywordflow">return</span> TRUE;
}

<span class="keywordtype">int</span> main() {
    
    <span class="comment">// Setup the Main screen for 3D </span>
    <a name="a13"></a><a class="code" href="a00135.html#ae3ea5c2e57cc40d6a88e21c4dcb742c8" title="the main 2D engine video mode">videoSetMode</a>(<a name="a14"></a><a class="code" href="a00135.html#a1e46218ee302fcc8c77e4ea0968ea149af75d73d6670d95a0cec81b8e648a0dca" title="3 2D backgrounds 1 3D background (Main engine only)">MODE_0_3D</a>);
    <a name="a15"></a><a class="code" href="a00135.html#a3e86d5c1a90d13eb82cab5d2ef6f52b2" title="Set bank A to the indicated mapping.">vramSetBankA</a>(<a name="a16"></a><a class="code" href="a00135.html#a348d2824280b1b94792407f4920e346aa94a8dcae8ac358090145f6f2aaa6b87b" title="maps vram a to 3d texture slot 0.">VRAM_A_TEXTURE</a>);                        <span class="comment">//NEW  must set up some memory for textures</span>

    <span class="comment">// initialize the geometry engine</span>
    <a name="a17"></a><a class="code" href="a00136.html#a29390b4085e778ee80b07b46efd4b2ca" title="Initializes the gl state machine (must be called once before using gl calls).">glInit</a>();
    
    <span class="comment">// enable textures</span>
    <a name="a18"></a><a class="code" href="a00136.html#acc179be4d402924ed239617a6aa422f2" title="Enables various gl states (blend, alpha test, etc..).">glEnable</a>(<a name="a19"></a><a class="code" href="a00136.html#a09e37320519ef82d47501185b7a76931a48a55102e3c54aa57bd8ea9ed997420e">GL_TEXTURE_2D</a>);
    
    <a class="code" href="a00136.html#acc179be4d402924ed239617a6aa422f2" title="Enables various gl states (blend, alpha test, etc..).">glEnable</a>(<a name="a20"></a><a class="code" href="a00136.html#a09e37320519ef82d47501185b7a76931a72570a43d7f05b0654dae406d4ab43e2">GL_BLEND</a>);
    
    <span class="comment">// enable antialiasing</span>
    <a class="code" href="a00136.html#acc179be4d402924ed239617a6aa422f2" title="Enables various gl states (blend, alpha test, etc..).">glEnable</a>(<a name="a21"></a><a class="code" href="a00136.html#a09e37320519ef82d47501185b7a76931aeb3eb07748974534a5a9ab69d190a3ad">GL_ANTIALIAS</a>);
    
    <span class="comment">// setup the rear plane</span>
    <a name="a22"></a><a class="code" href="a00136.html#a47af9a2279197ba4d95467cc0741f117" title="sets the color of the rear-plane(a.k.a Clear Color/Plane)">glClearColor</a>(0,0,0,31); <span class="comment">// BG must be opaque for AA to work</span>
    <a name="a23"></a><a class="code" href="a00136.html#a0316399378018c0409a78580cb1166a9" title="sets the polygon ID of the rear-plane(a.k.a. Clear/Color Plane), useful for antialiasing...">glClearPolyID</a>(63); <span class="comment">// BG must have a unique polygon ID for AA to work</span>
    <a name="a24"></a><a class="code" href="a00136.html#acf0b19102499eed4547a6cac367e51ef" title="reset the depth buffer to this value; generally set this to GL_MAX_DEPTH.  GBATEK...">glClearDepth</a>(0x7FFF);
    
    <span class="comment">// Set our viewport to be the same size as the screen</span>
    <a name="a25"></a><a class="code" href="a00136.html#a2dca9bf8f906cf5d97f7c11b6e7f3505" title="specify the viewport for following drawing, can be set several times per frame. ...">glViewport</a>(0,0,255,191);
    
    LoadGLTextures();
    
    <a name="a26"></a><a class="code" href="a00136.html#a0735cc3f765138aeda473865ee1ecce6" title="change the current matrix mode  GBATEK http://nocash.emubase.de/gbatek.htm#ds3dmatrixloadmultiply...">glMatrixMode</a>(<a name="a27"></a><a class="code" href="a00136.html#a2d4b5d945cec30e7c025823f0447c2b4a9f052b4ec4987e02bae380daff5fa634">GL_PROJECTION</a>);
    <a name="a28"></a><a class="code" href="a00136.html#a3dbf4d6316eb7640e507572fe2612b70" title="loads an identity matrix to the current matrix, same as glIdentity(void)">glLoadIdentity</a>();
    <a name="a29"></a><a class="code" href="a00136.html#ab40589d7691759f889108bd71fbf10b1" title="Utility function which sets up the projection matrix (floating point version).">gluPerspective</a>(70, 256.0 / 192.0, 0.1, 100);
    
    <span class="comment">//set up a directional ligth arguments are light number (0-3), light color, </span>
    <span class="comment">//and an x,y,z vector that points in the direction of the light</span>
    <a name="a30"></a><a class="code" href="a00136.html#a953b2c59598171987e1dfc7f092c93eb" title="set a light up. Only parallel light sources are supported on the DS  GBATEK http://nocash...">glLight</a>(0, <a name="a31"></a><a class="code" href="a00135.html#abd4530c7880d389c9ea70e2e3b84aa9d" title="Macro to convert 5 bit r g b components into a single 15 bit RGB triplet.">RGB15</a>(31,31,31) , 0, <a name="a32"></a><a class="code" href="a00136.html#ab8dc8368494e1aabefb9ee1e93ceee3a" title="convert float to v10">floattov10</a>(-1.0), 0);

    <a name="a33"></a><a class="code" href="a00136.html#af036551b1827883eb67c63d54c196eb1" title="specify a color for following vertices">glColor3f</a>(1,1,1);
    
    <a class="code" href="a00136.html#a0735cc3f765138aeda473865ee1ecce6" title="change the current matrix mode  GBATEK http://nocash.emubase.de/gbatek.htm#ds3dmatrixloadmultiply...">glMatrixMode</a>(<a name="a34"></a><a class="code" href="a00136.html#a2d4b5d945cec30e7c025823f0447c2b4ab61b6af2524c193dafa434f0d39d5fbb">GL_MODELVIEW</a>);
    
    <span class="comment">//need to set up some material properties since DS does not have them set by default</span>
    
    <a name="a35"></a><a class="code" href="a00136.html#afe2e87391012692d6ba2c845d6fdedfd" title="specify the material properties to be used in rendering lit polygons">glMaterialf</a>(<a name="a36"></a><a class="code" href="a00136.html#a8684b8eee6f248d164ce3e9bfbb51d55a7a74784f37e620c3bd16ac772884777d">GL_AMBIENT</a>, <a class="code" href="a00135.html#abd4530c7880d389c9ea70e2e3b84aa9d" title="Macro to convert 5 bit r g b components into a single 15 bit RGB triplet.">RGB15</a>(16,16,16));
    <a class="code" href="a00136.html#afe2e87391012692d6ba2c845d6fdedfd" title="specify the material properties to be used in rendering lit polygons">glMaterialf</a>(<a name="a37"></a><a class="code" href="a00136.html#a8684b8eee6f248d164ce3e9bfbb51d55afc7fe6d0852d2a320b5fac140b8d9d3d">GL_DIFFUSE</a>, <a class="code" href="a00135.html#abd4530c7880d389c9ea70e2e3b84aa9d" title="Macro to convert 5 bit r g b components into a single 15 bit RGB triplet.">RGB15</a>(16,16,16));
    <a class="code" href="a00136.html#afe2e87391012692d6ba2c845d6fdedfd" title="specify the material properties to be used in rendering lit polygons">glMaterialf</a>(<a name="a38"></a><a class="code" href="a00136.html#a8684b8eee6f248d164ce3e9bfbb51d55ab31c75774b5ae9c34b6741d823dd1668">GL_SPECULAR</a>, <a name="a39"></a><a class="code" href="a00121.html#a3a8ea58898cb58fc96013383d39f482c" title="returns a number with the nth bit set.">BIT</a>(15) | <a class="code" href="a00135.html#abd4530c7880d389c9ea70e2e3b84aa9d" title="Macro to convert 5 bit r g b components into a single 15 bit RGB triplet.">RGB15</a>(8,8,8));
    <a class="code" href="a00136.html#afe2e87391012692d6ba2c845d6fdedfd" title="specify the material properties to be used in rendering lit polygons">glMaterialf</a>(<a name="a40"></a><a class="code" href="a00136.html#a8684b8eee6f248d164ce3e9bfbb51d55a1ffd95e33d6885983d5c49fc7e564930">GL_EMISSION</a>, <a class="code" href="a00135.html#abd4530c7880d389c9ea70e2e3b84aa9d" title="Macro to convert 5 bit r g b components into a single 15 bit RGB triplet.">RGB15</a>(16,16,16));
    
    <span class="comment">//ds uses a table for shinyness..this generates a half-ass one</span>
    <a name="a41"></a><a class="code" href="a00136.html#ad999b0866a2200c1722ba4309f7d5d58" title="The DS uses a table for shininess..this generates a half-ass one.">glMaterialShinyness</a>();
    
    <span class="comment">// Set the current matrix to be the model matrix</span>
    <a class="code" href="a00136.html#a0735cc3f765138aeda473865ee1ecce6" title="change the current matrix mode  GBATEK http://nocash.emubase.de/gbatek.htm#ds3dmatrixloadmultiply...">glMatrixMode</a>(<a class="code" href="a00136.html#a2d4b5d945cec30e7c025823f0447c2b4ab61b6af2524c193dafa434f0d39d5fbb">GL_MODELVIEW</a>);
    
    <span class="keywordflow">while</span> (1) 
    {
        <span class="comment">//these little button functions are pretty handy</span>
        <a name="a42"></a><a class="code" href="a00109.html#af4e9294843965705093b39673ddbb2b4" title="Obtains the current keypad state. Call this function once per main loop in order...">scanKeys</a>();
        
        <span class="keywordflow">if</span> (<a name="a43"></a><a class="code" href="a00109.html#a33346c2b7c7a610aedff2feef9a5240e" title="Obtains the current keypad held state.">keysHeld</a>() &amp; <a name="a44"></a><a class="code" href="a00110.html#aa27cad8fa018a58930b6622783a83072aa3ec8a2ffd5b0e200db5ebe7b65515ff" title="Right shoulder button.">KEY_R</a>)
        {
            z-=0.02f;
        }
        <span class="keywordflow">if</span> (<a class="code" href="a00109.html#a33346c2b7c7a610aedff2feef9a5240e" title="Obtains the current keypad held state.">keysHeld</a>() &amp; <a name="a45"></a><a class="code" href="a00110.html#aa27cad8fa018a58930b6622783a83072aece16de35a5ea11f9b228c9376bebc62" title="Left shoulder button.">KEY_L</a>)
        {
            z+=0.02f;
        }
        <span class="keywordflow">if</span> (<a class="code" href="a00109.html#a33346c2b7c7a610aedff2feef9a5240e" title="Obtains the current keypad held state.">keysHeld</a>() &amp; <a name="a46"></a><a class="code" href="a00110.html#aa27cad8fa018a58930b6622783a83072a612120b69c7dfd46086db7aaebdbcf65" title="Keypad LEFT button.">KEY_LEFT</a>)
        {
            xspeed-=0.01f;
        }
        <span class="keywordflow">if</span> (<a class="code" href="a00109.html#a33346c2b7c7a610aedff2feef9a5240e" title="Obtains the current keypad held state.">keysHeld</a>() &amp; <a name="a47"></a><a class="code" href="a00110.html#aa27cad8fa018a58930b6622783a83072a6504370d9c6391e1a9da6a1a529b089d" title="Keypad RIGHT button.">KEY_RIGHT</a>)
        {
            xspeed+=0.01f;
        }
        <span class="keywordflow">if</span> (<a class="code" href="a00109.html#a33346c2b7c7a610aedff2feef9a5240e" title="Obtains the current keypad held state.">keysHeld</a>() &amp; <a name="a48"></a><a class="code" href="a00110.html#aa27cad8fa018a58930b6622783a83072a0848a442d907968b211b97bc2bd88acd" title="Keypad UP button.">KEY_UP</a>)
        {
            yspeed+=0.01f;
        }
        <span class="keywordflow">if</span> (<a class="code" href="a00109.html#a33346c2b7c7a610aedff2feef9a5240e" title="Obtains the current keypad held state.">keysHeld</a>() &amp; <a name="a49"></a><a class="code" href="a00110.html#aa27cad8fa018a58930b6622783a83072aa9cdac7967bf7d88fdb761138a2a3416" title="Keypad DOWN button.">KEY_DOWN</a>)
        {
            yspeed-=0.01f;
        }

        DrawGLScene();

        <span class="comment">// flush to screen  </span>
        <a name="a50"></a><a class="code" href="a00136.html#a11924dcc21af8cca165a1a553daf9235" title="Waits for a Vblank and swaps the buffers(like swiWaitForVBlank), but lets you specify...">glFlush</a>(0);
        
        <span class="comment">// wait for the screen to refresh</span>
        <a name="a51"></a><a class="code" href="a00111.html#a1e8361fc4819e3f39d187dc5c29c279a" title="Wait for vblank interrupt.">swiWaitForVBlank</a>();
    }
    
    <span class="keywordflow">return</span> 0;
}

<span class="keywordtype">int</span> DrawGLScene()                                           <span class="comment">// Here&#39;s Where We Do All The Drawing</span>
{
    <a class="code" href="a00136.html#a3dbf4d6316eb7640e507572fe2612b70" title="loads an identity matrix to the current matrix, same as glIdentity(void)">glLoadIdentity</a>();                                   <span class="comment">// Reset The View</span>
    <a name="a52"></a><a class="code" href="a00136.html#a15ee4820b85ebc3888ae2bdde39ed58e" title="multiply the current matrix by a translation matrix  GBATEK http://nocash.emubase...">glTranslatef</a>(0.0f,0.0f,z);

    <a name="a53"></a><a class="code" href="a00136.html#ac32ef897a20ca720fcde524a50a94ccf" title="Rotate about an arbitrary axis.">glRotatef</a>(xrot,1.0f,0.0f,0.0f);
    <a class="code" href="a00136.html#ac32ef897a20ca720fcde524a50a94ccf" title="Rotate about an arbitrary axis.">glRotatef</a>(yrot,0.0f,1.0f,0.0f);
    
    <a name="a54"></a><a class="code" href="a00136.html#aad676c90bbd04d6cc1393d6c93f852c0" title="Set the parameters for polygons rendered on the current frame  GBATEK http://nocash...">glPolyFmt</a>(<a name="a55"></a><a class="code" href="a00136.html#a04ca9bdfcc44641cccf53aa338888b3c" title="used in glPolyFmt() to set the alpha level for the following polygons, set to 0 for...">POLY_ALPHA</a>(31) | <a name="a56"></a><a class="code" href="a00136.html#ac9ed764e909c0619b9abd34fb93f2b3cabd16e90881f219228faa391e2d396a07">POLY_CULL_NONE</a>  | <a name="a57"></a><a class="code" href="a00136.html#ac9ed764e909c0619b9abd34fb93f2b3ca39227c084dd4643be0193b5f9279f545">POLY_FORMAT_LIGHT0</a>);

    <a class="code" href="a00136.html#a3d8302fb3f30c1029b2e9cdd50f45a0a" title="glBindTexure sets the current named texture to the active texture. Target is ignored...">glBindTexture</a>(<a class="code" href="a00136.html#a09e37320519ef82d47501185b7a76931a48a55102e3c54aa57bd8ea9ed997420e">GL_TEXTURE_2D</a>, texture[0]);  <span class="comment">//no filters to swtich between</span>
    
    <a name="a58"></a><a class="code" href="a00136.html#aa767ddea14a9219a8fc2a4a4645eea58" title="Starts a polygon group.">glBegin</a>(<a name="a59"></a><a class="code" href="a00136.html#a0e589918d10f56cda0c48e6f1dd389e9aab4577ef231a4142312b13d957352ed3">GL_QUADS</a>);
        <span class="comment">// Front Face</span>
        <a name="a60"></a><a class="code" href="a00136.html#a13e41ea620bdf7d25df455499fa870ce" title="the normal to use for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glNormal3f</a>( 0.0f, 0.0f, 1.0f);
        <a name="a61"></a><a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 0.0f); <a name="a62"></a><a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f, -1.0f,  1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f, -1.0f,  1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f,  1.0f,  1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f,  1.0f,  1.0f);
        <span class="comment">// Back Face</span>
        <a class="code" href="a00136.html#a13e41ea620bdf7d25df455499fa870ce" title="the normal to use for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glNormal3f</a>( 0.0f, 0.0f,-1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f, -1.0f, -1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f,  1.0f, -1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f,  1.0f, -1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f, -1.0f, -1.0f);
        <span class="comment">// Top Face</span>
        <a class="code" href="a00136.html#a13e41ea620bdf7d25df455499fa870ce" title="the normal to use for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glNormal3f</a>( 0.0f, 1.0f, 0.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f,  1.0f, -1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f,  1.0f,  1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f,  1.0f,  1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f,  1.0f, -1.0f);
    <span class="comment">// Bottom Face</span>
        <a class="code" href="a00136.html#a13e41ea620bdf7d25df455499fa870ce" title="the normal to use for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glNormal3f</a>( 0.0f,-1.0f, 0.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f, -1.0f, -1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f, -1.0f, -1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f, -1.0f,  1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f, -1.0f,  1.0f);
        <span class="comment">// Right face</span>
        <a class="code" href="a00136.html#a13e41ea620bdf7d25df455499fa870ce" title="the normal to use for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glNormal3f</a>( 1.0f, 0.0f, 0.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f, -1.0f, -1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f,  1.0f, -1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f,  1.0f,  1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>( 1.0f, -1.0f,  1.0f);
    <a name="a63"></a><a class="code" href="a00136.html#a9ba38906fa947236e63af2a29644775e" title="Ends a polygon group, this seems to be a dummy function that does absolutely nothing...">glEnd</a>();

    <a class="code" href="a00136.html#aad676c90bbd04d6cc1393d6c93f852c0" title="Set the parameters for polygons rendered on the current frame  GBATEK http://nocash...">glPolyFmt</a>(<a class="code" href="a00136.html#a04ca9bdfcc44641cccf53aa338888b3c" title="used in glPolyFmt() to set the alpha level for the following polygons, set to 0 for...">POLY_ALPHA</a>(15) | <a name="a64"></a><a class="code" href="a00136.html#ac9ed764e909c0619b9abd34fb93f2b3ca07f71069a755a04907f3e1679dd7b2bf">POLY_CULL_BACK</a>  | <a class="code" href="a00136.html#ac9ed764e909c0619b9abd34fb93f2b3ca39227c084dd4643be0193b5f9279f545">POLY_FORMAT_LIGHT0</a>);
    
    <a class="code" href="a00136.html#aa767ddea14a9219a8fc2a4a4645eea58" title="Starts a polygon group.">glBegin</a>(<a class="code" href="a00136.html#a0e589918d10f56cda0c48e6f1dd389e9aab4577ef231a4142312b13d957352ed3">GL_QUADS</a>);
    
    <span class="comment">// Left Face</span>
        <a class="code" href="a00136.html#a13e41ea620bdf7d25df455499fa870ce" title="the normal to use for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glNormal3f</a>(-1.0f, 0.0f, 0.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f, -1.0f, -1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 0.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f, -1.0f,  1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(1.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f,  1.0f,  1.0f);
        <a class="code" href="a00136.html#ab28a07543851fefa8ff489849549fd69" title="Sets texture coordinates for following vertices  GBATEK http://nocash.emubase.de/gbatek...">glTexCoord2f</a>(0.0f, 1.0f); <a class="code" href="a00136.html#a9237e35f838d025ed42e566ad237b6da" title="specifies a vertex location">glVertex3f</a>(-1.0f,  1.0f, -1.0f);
    <a class="code" href="a00136.html#a9ba38906fa947236e63af2a29644775e" title="Ends a polygon group, this seems to be a dummy function that does absolutely nothing...">glEnd</a>();

    xrot+=xspeed;
    yrot+=yspeed;
    <span class="keywordflow">return</span> TRUE;                                        <span class="comment">// Keep Going</span>

}
</pre></div> </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Jul 26 10:36:03 2010 for libnds by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
